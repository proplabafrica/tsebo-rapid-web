<template>
  <!-- row-->
  <div class="row">
    <div class="row mg-t-40 flex-fill">
      <!-- col - 1 -->
      <div class="col-13 col-md-13 col-lg-13 col-xl-13 pd-x-20 pd-l-30">
        <!-- top - row -->
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0">
          <div class="row row-xs mb-5">
            <!-- stats -->
            <div class="col-12 col-md">
              <div
                class="
                  card card-status
                  rounded
                  shadow-sm
                  justify-content-center
                "
              >
                <div class="media">
                  <svg
                    width="49"
                    height="49"
                    viewBox="0 0 49 49"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <circle cx="24.5" cy="24.5" r="24.5" fill="#12AEB8" />
                    <path
                      d="M26.5 27.508V16.626H22.5V27.506C21.097 28.234 20.126 29.686 20.126 31.376C20.1432 32.525 20.6117 33.6211 21.4303 34.4276C22.2489 35.2341 23.3519 35.6862 24.501 35.6864C25.6501 35.6865 26.7532 35.2346 27.572 34.4283C28.3907 33.622 28.8595 32.526 28.877 31.377C28.877 29.687 27.907 28.235 26.501 27.509L26.5 27.508ZM29.5 13.248C29.5 10.492 27.256 8.248 24.5 8.248C21.744 8.248 19.5 10.493 19.5 13.248V25.975C18.7508 26.6608 18.1528 27.4952 17.7438 28.4249C17.3349 29.3546 17.1242 30.3593 17.125 31.375C17.125 35.441 20.435 38.752 24.501 38.752C28.567 38.752 31.876 35.442 31.876 31.375C31.876 29.289 30.998 27.345 29.501 25.973V13.25L29.5 13.248ZM29.875 31.378C29.8731 32.8027 29.3062 34.1685 28.2985 35.1756C27.2908 36.1827 25.9247 36.7489 24.5 36.75C23.0756 36.7481 21.71 36.1815 20.7028 35.1742C19.6955 34.167 19.1289 32.8014 19.127 31.377C19.127 29.582 20.023 27.934 21.503 26.939V13.25C21.503 11.597 22.846 10.25 24.5 10.25C26.154 10.25 27.5 11.596 27.5 13.25V26.94C28.2306 27.4269 28.8296 28.0866 29.2439 28.8607C29.6582 29.6347 29.875 30.4991 29.875 31.377V31.378ZM31.085 16.626L35.585 19.224V14.03L31.085 16.626V16.626Z"
                      fill="#CC0C07"
                    />
                  </svg>
                  <div class="media-body">
                    <h1>300 C</h1>
                    <p>Coolant Temperature</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-12 col-md">
              <div
                class="
                  card card-status
                  rounded
                  shadow-sm
                  justify-content-center
                "
              >
                <div class="media">
                  <svg
                    width="49"
                    height="49"
                    viewBox="0 0 49 49"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <circle cx="24.5" cy="24.5" r="24.5" fill="#733943" />
                    <path
                      d="M14.863 24.3433C14.863 27.168 15.8617 29.5941 17.8592 31.6215C19.8344 33.6603 22.2147 34.6797 25 34.6797C26.831 34.6797 28.526 34.2184 30.0851 33.2958C31.6443 32.3732 32.8788 31.1175 33.7887 29.5286C34.6987 27.9397 35.1536 26.2112 35.1536 24.3433C35.1536 22.9423 34.8845 21.6012 34.3463 20.3198C33.8082 19.0384 33.0841 17.9336 32.1741 17.0053C31.2642 16.0771 30.1822 15.3367 28.9283 14.7843C27.6743 14.2319 26.3649 13.9557 25 13.9557C23.6351 13.9557 22.3284 14.2319 21.08 14.7843C19.8316 15.3367 18.7525 16.0771 17.8425 17.0053C16.9326 17.9336 16.2085 19.0384 15.6703 20.3198C15.1321 21.6012 14.863 22.9423 14.863 24.3433ZM15.895 24.9925V23.677H19.7401V24.9925H15.895ZM17.8259 18.5515L18.758 17.6119L21.4545 20.3796L20.5391 21.3364L17.8259 18.5515ZM22.3201 27.5382C22.3201 26.775 22.5781 26.1144 23.0941 25.5563C23.6101 24.9982 24.2399 24.7078 24.9834 24.685L29.8271 16.5013L30.9923 17.1335L27.4136 25.9322C27.7243 26.3878 27.8796 26.9231 27.8796 27.5382C27.8796 28.3355 27.6078 29.0103 27.064 29.5627C26.5203 30.1151 25.86 30.3913 25.0832 30.3913C24.3175 30.3913 23.6656 30.1151 23.1274 29.5627C22.5892 29.0103 22.3201 28.3355 22.3201 27.5382ZM24.6504 19.0299V15.0833H25.8822V19.0299H24.6504ZM29.8604 24.9754V23.6257H33.7055V24.9754H29.8604Z"
                      fill="#4ECB71"
                    />
                  </svg>

                  <div class="media-body">
                    <h1>200 mmHg</h1>
                    <p>Pressure</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-12 col-md">
              <div
                class="
                  card card-status
                  rounded
                  shadow-sm
                  justify-content-center
                "
              >
                <div class="media">
                  <svg
                    width="49"
                    height="49"
                    viewBox="0 0 49 49"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <circle cx="24.5" cy="24.5" r="24.5" fill="#195345" />
                    <path
                      d="M35 23V31H33V29H29.58C28.81 30.76 27.05 32 25 32C22.95 32 21.19 30.76 20.42 29H17V31H15V23H17V25H20.43C20.93 23.85 21.85 22.93 23 22.42V21H21V19H29V21H27V22.42C28.15 22.93 29.07 23.85 29.57 25H33V23H35ZM30 12H20C19.45 12 19 12.45 19 13C19 13.55 19.45 14 20 14H23V15H24V18H26V15H27V14H30C30.55 14 31 13.55 31 13C31 12.45 30.55 12 30 12Z"
                      fill="#FFDC62"
                    />
                  </svg>

                  <div class="media-body">
                    <h1>300.5</h1>
                    <p>Water Flow</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-12 col-md">
              <div
                class="
                  card card-status
                  rounded
                  shadow-sm
                  justify-content-center
                "
              >
                <div class="media">
                  <svg
                    width="49"
                    height="49"
                    viewBox="0 0 49 49"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <circle cx="24.5" cy="24.5" r="24.5" fill="#1F414D" />
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M15.3333 16V12H14V36H15.3333V22.6667H17.3333V24H26.6667V21.778H28.6667C29.0203 21.778 29.3594 21.9185 29.6095 22.1685C29.8595 22.4186 30 22.7577 30 23.1113V23.3333H28.6667V28.6667H38V23.3333H36.6667V22.6667C36.6667 18.9847 33.682 16 30 16H26.6667V14.6667H22.6667V13.3333H27.3333C27.5101 13.3333 27.6797 13.2631 27.8047 13.1381C27.9298 13.013 28 12.8435 28 12.6667C28 12.4899 27.9298 12.3203 27.8047 12.1953C27.6797 12.0702 27.5101 12 27.3333 12H16.6667C16.4899 12 16.3203 12.0702 16.1953 12.1953C16.0702 12.3203 16 12.4899 16 12.6667C16 12.8435 16.0702 13.013 16.1953 13.1381C16.3203 13.2631 16.4899 13.3333 16.6667 13.3333H21.3333V14.6667H17.3333V16H15.3333ZM35.3333 22.6667C35.3333 21.2522 34.7714 19.8956 33.7712 18.8954C32.771 17.8952 31.4145 17.3333 30 17.3333H26.6667V20.4447H28.6667C29.3739 20.4447 30.0522 20.7256 30.5523 21.2257C31.0524 21.7258 31.3333 22.4041 31.3333 23.1113V23.3333H35.3333V22.6667ZM36.6667 24.6667H30V27.3333H36.6667V24.6667ZM25.3333 16H18.6667V22.6667H25.3333V16ZM17.3333 21.3333H15.3333V17.3333H17.3333V21.3333Z"
                      fill="#BDB9CF"
                    />
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M33.6668 36C34.9555 36 36.0002 34.9147 36.0002 33.576C36.0002 31.4547 33.6668 29.3333 33.6668 29.3333C33.6668 29.3333 31.3335 31.4547 31.3335 33.576C31.3335 34.9147 32.3782 36 33.6668 36ZM33.6668 34.6667C34.1715 34.6667 34.6668 34.2267 34.6668 33.576C34.6668 32.9547 34.2988 32.1847 33.7582 31.4473C33.7281 31.4064 33.6977 31.3657 33.6668 31.3253C33.6362 31.3653 33.6055 31.406 33.5755 31.4473C33.0355 32.184 32.6668 32.954 32.6668 33.576C32.6668 34.2267 33.1622 34.6667 33.6668 34.6667Z"
                      fill="#BDB9CF"
                    />
                  </svg>
                  <div class="media-body">
                    <h1>ON</h1>
                    <p>Valve Status</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- row 2-1 -->
        <div class="col-sm-12 p-0">
          <div class="card rounded shadow-sm">
            <h6 class="pd-x-20 mg-t-20 tx-inverse">Water Pressure</h6>
            <hr class="" />
            <div class="d-flex flex-row">
              <!-- Col - 2 -->
              <div class="col col-md-7">
                <apexchart
                  height="300"
                  type="line"
                  :options="lineOptions"
                  :series="lineSeries"
                ></apexchart>
              </div>
              <!-- Col - 1 -->
              <div class="col-md-5">
                <div class="row row-xs justify flex-row">
                  <div class="flex-fill">
                    <div>
                      <div>
                        <apexchart
                          :options="options"
                          :series="series"
                        ></apexchart>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- col - 2 -->
      <div class="col-14 col-md-14 col-lg-14 col-xl-14">
        <div class="card flex-column">
          <h6 class="pd-x-20 pd-t-10 mg-0 tx-inverse">Water Information</h6>
          <hr />
          <div class="d-flex justify-content-between pd-x-20 pd-y-10">
            <span class="d-inline w-50">Water Flow</span>
            <span class="d-inline w-50">100.54</span>
          </div>
          <div class="d-flex justify-content-between pd-x-20 pd-y-10 mg-t-10">
            <span class="d-inline w-50">Water Flow</span>
            <span class="d-inline w-50">100.54</span>
          </div>
          <div class="d-flex justify-content-between pd-x-20 pd-y-10 mg-t-10">
            <span class="d-inline w-50">Water Flow</span>
            <span class="d-inline w-50">100.54</span>
          </div>
          <div class="d-flex justify-content-between pd-x-20 pd-y-10 mg-y-10">
            <span class="d-inline w-50">Water Flow</span>
            <span class="d-inline w-50">100.54</span>
          </div>
        </div>

        <div class="card flex-column mg-t-20">
          <h6 class="pd-x-20 pd-t-10 mg-0 tx-inverse">Average Water Flow</h6>
          <hr />
          <div class="d-flex justify-content-between pd-x-20 pd-y-10">
            <span class="d-inline w-50">Water Flow</span>
            <span class="d-inline w-50">100.54</span>
          </div>
          <div class="d-flex justify-content-between pd-x-20 pd-y-10 mg-t-10">
            <span class="d-inline w-50">Water Flow</span>
            <span class="d-inline w-50">100.54</span>
          </div>
          <div class="d-flex justify-content-between pd-x-20 pd-y-10 mg-t-10">
            <span class="d-inline w-50">Water Flow</span>
            <span class="d-inline w-50">100.54</span>
          </div>
          <div class="d-flex justify-content-between pd-x-20 pd-y-10 mg-y-10">
            <span class="d-inline w-50">Water Flow</span>
            <span class="d-inline w-50">100.54</span>
          </div>
        </div>

        <!-- <div class="card rounded shadow-sm mg-t-20">
          <div class="card-body bg-iot-card">
            <div class="p-0 d-block">
              <h6>Activity</h6>
              <div
                class="d-flex text-left justify-content-between pd-x-20 pd-y-10"
                v-for="(activity, index) in activityList"
                :class="activity.status == 'ON' ? 'on' : 'off'"
                :key="`activity-${index}`"
              >
                <div class="text-left">
                  {{ activity.name }}
                </div>
                <div class="text-right">
                  {{ activity.time }}
                </div>
              </div>
            </div>
          </div>
        </div> -->
      </div>
    </div>
  </div>
</template>

<script>
import { mapActions } from "vuex";
import loading from "@/components/ui/loading";
import requests from "@/components/hagul/dashboard/requests";
import performanceTabs from "@/components/performance/hagul/tabs";
import authMixin from "@/mixins/iot/auth";

export default {
  components: { requests, performanceTabs },
  head: () => ({
    title: "Dashboard · IOT"
  }),
  data: () => ({
    parameters: [
      "Voltage",
      "Current",
      "Power",
      "Engine RPM",
      "Battery Voltage",
      "Frequency",
      "Current"
    ],
    activityList: [
      { name: "Generator ON", time: "03:12:21", status: "ON" },
      { name: "Generator OFF", time: "02:12:21", status: "OFF" },
      { name: "Generator ON", time: "02:12:21", status: "ON" },
      { name: "Generator OFF", time: "01:12:21", status: "OFF" }
    ],
    options: {
      chart: {
        height: 20,
        type: "radialBar"
      },

      series: [67],

      plotOptions: {
        radialBar: {
          hollow: {
            margin: 15,
            size: "70%"
          },

          dataLabels: {
            showOn: "always",
            name: {
              offsetY: -10,
              show: true,
              color: "#888",
              fontSize: "13px"
            },
            value: {
              color: "#111",
              fontSize: "30px",
              show: true
            }
          }
        }
      },
      stroke: {
        lineCap: "round"
      },
      labels: ["Pressure"]
    },
    series: [67],
    lineOptions: {
      chart: {
        id: "vuechart-example",
        toolbar: {
          show: false
        }
      },
      xaxis: {
        categories: [
          "03:00",
          "06:00",
          "09:00",
          "12:00",
          "15:00",
          "18:00",
          "21:00"
        ]
      },
      // tooltip: {
      //   enabled: false
      // },
      legend: {
        position: "left",
        horizontalAlign: "center",
        fontSize: "14px",
        markers: {
          width: 10,
          height: 10
        },
        itemMargin: {
          horizontal: 0,
          vertical: 2
        }
      }
    },
    lineSeries: [
      {
        name: "series-1",
        data: [7, 5, 6, 2, 5, 3, 1, 10]
      }
    ]
  }),
  middleware: ["auth", "roleGuard"],
  mixins: [authMixin]
};
</script>
